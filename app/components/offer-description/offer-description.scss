.offer-description {
  $b: &;

  display: block;
  width: 100%;
  box-sizing: border-box;

  .gray {
    color: $nd-color-gray-text;
  }

  // .map-in-fullview & {
  //   pointer-events: none;
  // }

  // .layout-offer-active & {
  //   pointer-events: auto;
  // }

  &__subtitle {
    display: block;
    width: 100%;
    font-weight: 600;
    letter-spacing: normal;
    line-height: normal;

    @include rule(
      font-size,
      (
        xl: 14px,
        xlg: 14,
        lg: 14,
        md: 14,
        sm: 14,
      )
    );
    @include rule(
      padding-top,
      (
        sm: 20,
      )
    );
  }

  &__text {
    display: block;
    width: 100%;
    letter-spacing: normal;
    line-height: 1.75;

    @include rule(
      font-size,
      (
        xl: 15px,
        xlg: 15,
        lg: 15,
        md: 13,
        sm: 15,
      )
    );

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 32px,
          xlg: 32,
          lg: 32,
          md: 32,
          sm: 18,
        )
      );
    }
  }

  &__preview {
    position: relative;
    overflow: hidden;

    @include rule(
      margin,
      (
        sm: 0 -20,
      )
    );

    &::before {
      @include screen("sm", max, 2) {
        @include pseudo;

        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(
          180deg,
          #13141a 0%,
          rgba(51, 53, 70, 0) 33%,
          rgba(51, 53, 70, 0) 66%,
          #13141a 100%
        );
        background-repeat: no-repeat;
        pointer-events: none;
        opacity: 0.8;
        z-index: 2;
      }
    }
  }

  &__preview-info {
    display: none;
    color: $nd-color-basic-light;
    box-sizing: border-box;

    @include rule(
      padding,
      (
        sm: 0 20 18,
      )
    );

    @include screen("sm", max, 2) {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      z-index: 3;
    }
  }

  &__preview-start {
    display: block;
    width: 60%;
  }

  &__preview-end {
    flex: none;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    width: 40%;
  }

  &__preview-title {
    font-family: $font-stolzl;
    font-weight: 400;
    line-height: (22 / 20);

    @include rule(
      font-size,
      (
        xl: 20px,
        xlg: 20,
        lg: 20,
        md: 20,
        sm: 20,
      )
    );

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          sm: 5,
        )
      );
    }
  }

  &__preview-price {
    font-weight: 600;
    line-height: (20 / 15);
    white-space: nowrap;

    @include rule(
      font-size,
      (
        xl: 15px,
        xlg: 15,
        lg: 15,
        md: 15,
        sm: 15,
      )
    );
  }

  &__preview-tooltip {
    display: block;
    color: $nd-color-main;
    box-sizing: border-box;
    font-size: 0;
    line-height: 0;

    @include rule(
      padding,
      (
        xl: 4px,
        xlg: 4,
        lg: 4,
        md: 4,
        sm: 4,
      )
    );
    @include rule(
      width,
      (
        xl: 20px,
        xlg: 20,
        lg: 20,
        md: 20,
        sm: 20,
      )
    );
    @include rule(
      height,
      (
        xl: 20px,
        xlg: 20,
        lg: 20,
        md: 20,
        sm: 20,
      )
    );
    @include rule(
      margin-right,
      (
        xl: -5px,
        xlg: -5,
        lg: -5,
        md: -5,
        sm: -5,
      )
    );

    svg {
      display: block;
      width: 100%;
      height: 100%;
      fill: currentColor;
    }
  }

  &__media {
    position: relative;
    // width: 100%;
    overflow: hidden;
    padding-top: 28.541667vw;
    z-index: 1;

    @include rule(
      margin-left,
      (
        md: -50,
        sm: 0,
      )
    );
    @include rule(
      margin-right,
      (
        md: -40,
        sm: 0,
      )
    );

    @include screen("lg", max, 2) {
      padding-top: 29.868228vw;
    }

    @include screen("md", max, 2) {
      padding-top: 38.645833vw;
    }

    @include screen("sm", max, 2) {
      @include ratio(375, 300);
    }

    .layout__column_popup & {
      margin-left: -150px;

      @include screen("xl", max, 2) {
        margin-left: -60px;
      }

      @include rule(
        margin-left,
        (
          xlg: -60,
          lg: -50,
          md: -50,
          sm: 0,
        )
      );
      @include rule(
        margin-right,
        (
          xl: -50px,
          xlg: -50,
          lg: -50,
          md: -40,
          sm: 0,
        )
      );
    }
  }

  &__media-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    img {
      @include fill-img;
    }
  }

  &__content {
    display: grid;
    grid-template-columns: 54.5% 45.5%;
    grid-template-rows: repeat(4, auto);

    @include screen("lg", max, 2) {
      grid-template-columns: 1fr pxtovw(194, 1366);
      grid-template-rows: repeat(4, auto);
    }

    @include screen("md", max, 2) {
      grid-template-columns: 1fr pxtovw(194, 960);
      grid-template-rows: repeat(4, auto);
    }

    @include screen("sm", max, 2) {
      grid-template-columns: 100%;
      grid-template-rows: repeat(5, auto);
    }

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 46px,
          xlg: 46,
          lg: 30,
          md: 21,
          sm: 18,
        )
      );
    }
  }

  &__image {
    display: block;
    width: 100%;
    line-height: 0;
    font-size: 0;

    img {
      width: 100%;
    }

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 30px,
          xlg: 30,
          lg: 30,
          md: 20,
          sm: 20,
        )
      );
    }
  }

  &__header {
    display: flex;
    grid-column: 1 / 3;
    grid-row: 1 / 2;
    flex-direction: row;
    justify-content: space-between;
    align-items: baseline;
    align-content: flex-start;
    flex-wrap: wrap;

    @include screen("sm", max, 2) {
      grid-column: 1 / 2;
      grid-row: 1 / 2;
    }
  }

  &__type {
    width: 100%;
    font-weight: 700;
    letter-spacing: normal;
    font-family: $font-main;

    @include rule(
      font-size,
      (
        xl: 12px,
        xlg: 12,
        lg: 12,
        md: 12,
        sm: 12,
      )
    );
  }

  &__price {
    display: block;
    font-weight: 600;
    line-height: 1.19;
    letter-spacing: normal;
    text-align: right;

    @include rule(
      font-size,
      (
        xl: 20px,
        xlg: 20,
        lg: 20,
        md: 16,
        sm: 20,
      )
    );

    @include screen("sm", max, 2) {
      display: none;
    }
  }

  &__title {
    display: block;
    font-family: $font-stolzl;
    font-weight: 400;
    line-height: 1.19;
    letter-spacing: normal;

    @include rule(
      font-size,
      (
        xl: 26px,
        xlg: 26,
        lg: 24,
        md: 18,
        sm: 20,
      )
    );

    &_fz16 {
      @include rule(
        font-size,
        (
          xl: 16px,
          xlg: 16,
          lg: 16,
          md: 16,
          sm: 20,
        )
      );
    }

    &_fz20 {
      @include rule(
        font-size,
        (
          xl: 20px,
          xlg: 20,
          lg: 20,
          md: 16,
          sm: 20,
        )
      );
    }

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 18px,
          xlg: 18,
          lg: 18,
          md: 18,
          sm: 8,
        )
      );
    }
  }

  .styled-list {
    @include rule(
      font-size,
      (
        xl: 15px,
        xlg: 15,
        lg: 15,
        md: 13,
        sm: 16,
      )
    );

    letter-spacing: normal;
  }

  &__table {
    @include rule(
      margin-top,
      (
        lg: 30,
        md: 20,
        sm: 20,
      )
    );
  }

  &__section {
    display: block;
    width: 100%;
    box-sizing: border-box;

    &_describe {
      @include rule(
        padding-right,
        (
          xl: 45px,
          xlg: 45,
          lg: 0,
        )
      );

      grid-column: 1 / 2;
      grid-row: 2 / 3;
      border-right: 1px solid $nd-color-border6;

      @include screen("lg", max, 2) {
        grid-column: 1 / 3;
        grid-row: 2 / 3;
        border-right: none;
      }

      @include screen("sm", max, 2) {
        grid-column: 1 / 2;
        grid-row: 3 / 4;
      }

      &:not(:first-child) {
        @include rule(
          margin-top,
          (
            xl: 50px,
            xlg: 50,
            lg: 35,
            md: 28,
            sm: 38,
          )
        );
      }
    }

    &_table {
      @include rule(
        padding-left,
        (
          xl: 50px,
          xlg: 50,
          lg: 0,
        )
      );
      @include rule(
        padding-right,
        (
          lg: 72,
          md: 64,
          sm: 0,
        )
      );

      grid-column: 2 / 3;
      grid-row: 2 / 3;

      @include screen("lg", max, 2) {
        grid-column: 1 / 2;
        grid-row: 3 / 4;
      }

      @include screen("sm", max, 2) {
        grid-column: 1 / 2;
        grid-row: 2 / 3;
      }

      &:not(:first-child) {
        @include rule(
          margin-top,
          (
            xl: 50px,
            xlg: 50,
            lg: 55,
            md: 48,
            sm: 7,
          )
        );
      }
    }

    &_list {
      @include rule(
        padding-left,
        (
          xl: 50px,
          xlg: 50,
          lg: 0,
        )
      );
      @include rule(
        padding-right,
        (
          lg: 72,
          md: 64,
          sm: 0,
        )
      );

      grid-column: 2 / 3;
      grid-row: 3 / 5;

      @include screen("lg", max, 2) {
        grid-column: 1 / 2;
        grid-row: 4 / 5;
      }

      @include screen("sm", max, 2) {
        grid-column: 1 / 2;
        grid-row: 5 / 6;
      }

      &:not(:first-child) {
        @include rule(
          margin-top,
          (
            xl: 18px,
            xlg: 18,
            lg: 40,
            md: 47,
            sm: 92,
          )
        );
      }
    }

    &_plan {
      @include rule(
        padding-right,
        (
          xl: 45px,
          xlg: 45,
          lg: 0,
        )
      );

      border-right: 1px solid $nd-color-border6;
      grid-column: 1 / 2;
      grid-row: 4 / 5;

      @include screen("lg", max, 2) {
        grid-column: 2 / 3;
        grid-row: 3 / 5;
        border-right: none;
      }

      @include screen("sm", max, 2) {
        grid-column: 1 / 2;
        grid-row: 4 / 5;
      }

      #{$b}__image {
        border: 1px solid $nd-layout-scroll;
        @include rule(
          border-radius,
          (
            xl: 3px,
            xlg: 3,
            lg: 3,
            md: 3,
            sm: 3,
          )
        );

        @include screen("sm", max, 2) {
          border: none;
        }
      }

      &:not(:first-child) {
        @include rule(
          padding-top,
          (
            xl: 38px,
            xlg: 38,
            lg: 0,
          )
        );
        @include rule(
          margin-top,
          (
            xl: 0px,
            xlg: 0,
            lg: 55,
            md: 48,
            sm: 12,
          )
        );
      }
    }
  }

  &__layout {
    display: flex;
    justify-content: flex-start;

    @include cRule(
      flex-wrap,
      (
        sm: wrap,
      )
    );

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 28px,
          xlg: 28,
          lg: 28,
          md: 28,
          sm: 4,
        )
      );
    }
  }

  &__sidebar {
    @include rule(
      width,
      (
        xl: 368px,
        xlg: 368,
        lg: 368,
        md: 280,
        sm: 100%,
      )
    );
    @include rule(
      margin-left,
      (
        xl: 50px,
        xlg: 50,
        lg: 50,
        md: 30,
        sm: 0,
      )
    );
    @include rule(
      padding-top,
      (
        xl: 16px,
        xlg: 16,
        lg: 16,
        md: 16,
        sm: 16,
      )
    );

    flex: none;
    box-sizing: border-box;

    .layout__column_popup & {
      @include rule(
        width,
        (
          xl: 368px,
          xlg: 368,
          lg: 280,
          md: 250,
          sm: 100%,
        )
      );
      @include rule(
        margin-left,
        (
          xl: 50px,
          xlg: 50,
          lg: 30,
          md: 30,
          sm: 0,
        )
      );
    }
  }

  &__bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 5px,
          xlg: 5,
          lg: 5,
          md: 5,
          sm: 8,
        )
      );
    }
  }

  &__row {
    display: flex;
    justify-content: space-between;
    width: 100%;

    @include cRule(
      flex-wrap,
      (
        sm: wrap,
      )
    );

    .layout__column_popup & {
      @include cRule(
        flex-wrap,
        (
          md: wrap,
        )
      );
    }

    &_plan {
      @include cRule(
        order,
        (
          sm: 4,
        )
      );
    }
  }

  &__head {
    display: flex;
    justify-content: flex-start;
    align-items: baseline;
  }

  &__routes {
    flex: none;

    @include rule(
      width,
      (
        xl: 300px,
        xlg: 300,
        lg: 300,
        md: 300,
        sm: 100%,
      )
    );
    @include rule(
      margin-left,
      (
        xl: 35px,
        xlg: 35,
        lg: 35,
        md: 35,
        sm: 0,
      )
    );

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          sm: 20,
        )
      );
    }

    .layout__column_popup & {
      @include rule(
        width,
        (
          lg: 250,
          md: 100%,
        )
      );
      @include rule(
        margin-left,
        (
          md: 20,
          sm: 0,
        )
      );
    }
  }

  &__map {
    flex: 1;
    overflow: hidden;
    height: auto;

    @include rule(
      border-radius,
      (
        xl: 3px,
        xlg: 3,
        lg: 3,
        md: 3,
        sm: 0,
      )
    );
    @include rule(
      min-height,
      (
        xl: 170px,
        xlg: 170,
        lg: 170,
        md: 170,
        sm: 177,
      )
    );

    @include screen("sm", max, 2) {
      flex: none;
    }
  }

  &__address {
    &:not(:first-child) {
      @include rule(
        margin-left,
        (
          xl: 27px,
          xlg: 27,
          lg: 27,
          md: 27,
          sm: 27,
        )
      );
    }
  }

  &__note {
    display: inline-block;
    color: $nd-color-gray-text;
    line-height: (26 / 13);
    font-weight: 400;
    letter-spacing: normal;
    text-align: center;
    box-sizing: border-box;
    width: 100%;

    @include rule(
      font-size,
      (
        xl: 13px,
        xlg: 13,
        lg: 13,
        md: 13,
        sm: 13,
      )
    );

    &::before {
      display: inline-block;
      vertical-align: middle;
      content: "";
      background-repeat: no-repeat;
      background-position: 50% 50%;
      background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.458 5.909L3.363 3.819L5.111 4.94L5.719 3.914L3.876 2.964L5.719 2.014L5.111 0.969L3.363 2.09L3.458 0H2.261L2.356 2.09L0.589 0.969L0 2.014L1.843 2.964L0 3.914L0.589 4.94L2.356 3.819L2.261 5.909H3.458Z' fill='%2386919E'/%3E%3C/svg%3E%0A");

      @include rule(
        background-size,
        (
          xl: 6px,
          xlg: 6,
          lg: 6,
          md: 6,
          sm: 6,
        )
      );
      @include rule(
        margin-right,
        (
          xl: 5px,
          xlg: 5,
          lg: 5,
          md: 5,
          sm: 5,
        )
      );
      @include rule(
        height,
        (
          xl: 26px,
          xlg: 26,
          lg: 26,
          md: 26,
          sm: 26,
        )
      );
      @include rule(
        width,
        (
          xl: 6px,
          xlg: 6,
          lg: 6,
          md: 6,
          sm: 6,
        )
      );
    }

    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 16px,
          xlg: 16,
          lg: 16,
          md: 16,
          sm: 16,
        )
      );
    }
  }

  &__review-list {
    @include rule(
      margin-top,
      (
        xl: 40px,
        xlg: 40,
        lg: 40,
        md: 40,
        sm: 40,
      )
    );
  }

  &__review {
    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 40px,
          xlg: 40,
          lg: 40,
          md: 32,
          sm: 32,
        )
      );
    }
  }

  &_v2 {
    @include rule(
      margin-top,
      (
        sm: 0,
      )
    );

    .gray {
      color: $nd-color-gray-text;
    }

    #{$b} {
      &__content {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        flex: 1;

        &_panel {
          background-color: $nd-color-basic-light;
          box-sizing: border-box;

          @include rule(
            padding,
            (
              xl: 32px 36px,
              xlg: 32 36,
              lg: 30,
              md: 20,
              sm: 0,
            )
          );
        }
      }

      &__header {
        position: relative;
        box-sizing: border-box;

        @include rule(
          padding-right,
          (
            xl: 18px,
            xlg: 18,
            lg: 18,
            md: 18,
            sm: 18,
          )
        );
      }

      &__favorite {
        position: absolute;
        right: 0;
        bottom: 0;

        @include screen("sm", max, 2) {
          bottom: 100%;
          transform: translate3d(0, 100%, 0);
        }
      }

      &__text {
        &:not(:first-child) {
          @include rule(
            margin-top,
            (
              sm: 24,
            )
          );
        }
      }

      &__section {
        @include rule(
          margin-top,
          (
            xl: 44px,
            xlg: 44,
            lg: 44,
            md: 44,
            sm: 36,
          )
        );

        &_describe {
          padding-right: 0;
          border-right: none;
          margin-top: 0;
        }

        &_description {
          @include cRule(
            order,
            (
              sm: 4,
            )
          );
        }

        &_table {
          padding-left: 0;
          padding-right: 0;
        }

        &_map {
          @include rule(
            margin-top,
            (
              xl: 38px,
              xlg: 38,
              lg: 38,
              md: 38,
              sm: 22,
            )
          );
          @include cRule(
            order,
            (
              sm: 3,
            )
          );

          .offer-description__row {
            @include rule(
              margin-top,
              (
                xl: 24px,
                xlg: 24,
                lg: 24,
                md: 24,
                sm: 8,
              )
            );
          }
        }

        &_plan {
          padding-top: 0;
          padding-right: 0;
          border-right: none;
          flex: none;

          @include rule(
            width,
            (
              xl: 173px,
              xlg: 173,
              lg: 173,
              md: 173,
              sm: 100%,
            )
          );
          @include rule(
            margin-left,
            (
              xl: 44px,
              xlg: 44,
              lg: 44,
              md: 30,
              sm: 0,
            )
          );

          .layout__column_popup & {
            @include rule(
              width,
              (
                lg: 150,
                md: 100%,
              )
            );
            @include rule(
              margin-left,
              (
                lg: 30,
                md: 0,
              )
            );
          }
        }

        &_list {
          padding-left: 0;
          padding-right: 0;

          @include cRule(
            order,
            (
              sm: 5,
            )
          );
        }

        &_review {
          @include rule(
            padding-bottom,
            (
              xl: 20px,
              xlg: 20,
              lg: 20,
              md: 20,
              sm: 30,
            )
          );

          #{$b}__head {
            justify-content: space-between;
            align-items: center;
            gap: 10px;

            @include rule(
              padding-bottom,
              (
                xl: 30px,
                xlg: 30,
                lg: 30,
                md: 30,
                sm: 30,
              )
            );
          }
        }
      }

      &__media {
        @include rule(
          border-radius,
          (
            xl: 3px,
            xlg: 3,
            lg: 3,
            md: 0,
            sm: 0 0 3 3,
          )
        );
      }

      &__title {
        font-family: $font-main;
        font-weight: 600;

        @include rule(
          font-size,
          (
            xl: 24px,
            xlg: 24,
            lg: 24,
            md: 18,
            sm: 20,
          )
        );

        &_fz16 {
          font-family: $font-stolzl;
          font-weight: 400;

          @include rule(
            font-size,
            (
              xl: 16px,
              xlg: 16,
              lg: 16,
              md: 16,
              sm: 16,
            )
          );
        }

        &_fz20 {
          @include rule(
            font-size,
            (
              xl: 20px,
              xlg: 20,
              lg: 20,
              md: 18,
              sm: 16,
            )
          );

          @include rule(
            line-height,
            (
              xl: 1,
              sm: 1.18,
            )
          );

          @include screen("sm", max, 2) {
            font-weight: 400;
            font-family: $font-stolzl;
          }
        }
      }

      &__address {
        &:not(:first-child) {
          @include rule(
            margin-left,
            (
              xl: 27px,
              xlg: 27,
              lg: 27,
              md: 27,
              sm: 0,
            )
          );
        }
      }

      &__table {
        td {
          line-height: 2.258;

          @include screen("sm", max, 2) {
            line-height: 1.85;
          }
        }

        &:not(:first-child) {
          @include rule(
            margin-top,
            (
              xl: 22px,
              xlg: 22,
              lg: 22,
              md: 20,
              sm: 20,
            )
          );
        }
      }
    }

    &_dp {
      @include screen("sm", max, 2) {
        box-shadow: 0 0 0 wPxtovw(20, sm) $nd-color-basic-light;
      }

      #{$b} {
        &__layout {
          &:not(:first-child) {
            @include rule(
              margin-top,
              (
                xl: 44px,
                xlg: 44,
                lg: 44,
                md: 30,
                sm: 0,
              )
            );
          }
        }

        &__sidebar {
          padding-top: 0;
        }
      }
    }
  }

  &_v3 {
    #{$b} {
      &__layout {
        &:not(:first-child) {
          @include rule(
            margin-top,
            (
              xl: 35px,
              xlg: 35,
              lg: 35,
              md: 35,
              sm: 0,
            )
          );
        }
      }

      &__panel {
        background-color: $nd-color-basic-light;

        @include rule(
          border-radius,
          (
            xl: 3px,
            xlg: 3,
            lg: 3,
            md: 3,
            sm: 0,
          )
        );

        @include rule(
          padding,
          (
            xl: 60px 36px,
            xlg: 60 36,
            lg: 60 36,
            md: 60 36,
            sm: 25 0,
          )
        );

        &:first-child {
          @include rule(
            padding-top,
            (
              sm: 0,
            )
          );
        }

        &:not(:first-child) {
          @include rule(
            margin-top,
            (
              xl: 40px,
              xlg: 40,
              lg: 40,
              md: 40,
              sm: 0,
            )
          );
        }

        & > #{$b}__section:first-child {
          @include rule(
            margin-top,
            (
              xl: 0,
              xlg: 0,
              lg: 0,
              md: 0,
              sm: 0,
            )
          );
        }
      }

      &__favorite {
        bottom: auto;
        top: 0;
      }

      &__sidebar {
        padding-top: 0;
      }
    }
  }

  .advisor {
    &:not(:first-child) {
      @include rule(
        margin-top,
        (
          xl: 60px,
          xlg: 60,
          lg: 60,
          md: 50,
          sm: 0,
        )
      );
    }
  }
}
